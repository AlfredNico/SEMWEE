<mat-card tabindex="-1" class="w-100">
  <mat-card-header>
    <mat-card-title>Add New Project</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="form">
      <!-- <div fxLayout="column" fxLayoutAlign="center center">
                <img mat-card-image style="height: 100px;
                width: 100px;" [src]="image_url" alt="project images">
                <input type="file" accept="image/*" #file (change)="onImageChanged($event)" style="display:none;" />
                <button mat-raised-button type="button" (click)="file.click()">Change</button>
            </div> -->

      <div
        class="w-100"
        fxLayout="column"
        fxLayoutAlign="center center"
        formGroupName="letter_thumbnails_project"
      >
        <div
          class="letter"
          [style.background]="background"
          [style.color]="color"
        >
          {{ letter.value }}
        </div>
        <div mat-form-field class="form-group my-3">
          <input
          formControlName="letter"
          maxlength="1"
          autocomplete="off" class="form-control" placeholder="Letter* / Lettre*" required/>
            <span class="form-text text-muted">Give a name to your project. / Donnez un nom à votre
              projet.</span>
            <span class="form-text text-muted text-error" mat-error *ngIf="letter.touched && letter.errors?.required">
              Letter is required
            </span>
            <span class="form-text text-muted text-error" mat-error *ngIf="letter.errors?.uppercase">
              Letter is uppercase
            </span>
        </div>
        <div class="w-100" fxLayout="row" fxLayoutAlign="center">
          <div mat-form-field class="form-group my-3 w-25 mr-5">
            <input
            type="color" formControlName="color" class="form-control"/>
            <span class="form-text text-muted">Letter color</span>
          </div>
          <!-- (click)="setBackground(ref2.value)" formControlName="background" -->
          <div mat-form-field class="form-group my-3 w-25">
            <input
            type="color" formControlName="background" class="form-control"/>
            <span class="form-text text-muted">Background color</span>
          </div>
        </div>
      </div>

      <div mat-form-field class="form-group my-3">
        <input
        formControlName="name_project"
          autocomplete="off" class="form-control" placeholder="Name* / Nom*" />
        <span class="form-text text-muted">Give a name to your project. / Donnez un nom à votre
          projet.</span>
          <span class="form-text text-muted text-error" mat-error
          *ngIf="
            form.controls['name_project'].touched &&
            form.controls['name_project'].errors?.required
          ">
          Name is required
          </span>
          <span class="form-text text-muted text-error" mat-error *ngIf="form.controls['name_project'].errors?.maxLength">
            Maximum length name is 10 words
          </span>
          <span class="form-text text-muted text-error" mat-error *ngIf="form.controls['name_project'].errors?.projectName">
            The name is already taken
          </span>
      </div>

      <div mat-form-field class="form-group my-3">
        <input
        formControlName="domain_project"
          autocomplete="off" class="form-control" placeholder="Domain* / Domaine*" />
        <span class="form-text text-muted">Fill the field with the domain of the website. / Remplissez le champ
          avec le nom de domaine de votre site.</span>
          <span class="form-text text-muted text-error" mat-error
          *ngIf="
            form.controls['domain_project'].touched &&
            form.controls['domain_project'].errors?.required
          ">
          Domain is required
          </span>
          <span class="form-text text-muted text-error" mat-error *ngIf="form.controls['domain_project'].errors?.domain">
            Invalid domain name, it sould be like www.kiatoo.com
          </span>
      </div>

      <div mat-form-field class="form-group my-3">
        <input
        formControlName="country_project"
          [matAutocomplete]="autoComplete" class="form-control" placeholder="Country* / Pays*" />
        <span class="form-text text-muted">Which country is your website targeting ? / Indiquez à quel pays
          s'adresse votre site web.</span>
          <mat-autocomplete #autoComplete="matAutocomplete">
            <mat-option
              *ngFor="let contry of filteredCounrty | async"
              [value]="contry.name"
            >
              {{ contry.name }}
            </mat-option>
          </mat-autocomplete>

          <span class="form-text text-muted text-error" mat-error
          *ngIf="
            form.get('country_project')?.touched &&
            form.get('country_project')?.errors?.required
          ">
          Country is required
          </span>
          <span class="form-text text-muted text-error" mat-error *ngIf="form.get('country_project')?.max">
            Maximum length name is 40 words
          </span>
      </div>

      <div class="w-100 my-5" fxLayout="row">
        <div mat-form-field class="form-group w-50 mr-5">
          <select mat-select placeholder="Language* / Langue*" formControlName="language_project" class="form-control">
            <option mat-option
              *ngFor="let language of languages"
              [value]="language.code"
            >
              {{ language.name }}
            </option>
          </select>
          <span class="form-text text-muted">Tell us what is the language of your website? / Indiquez la langue
            de votre site web.</span>
            <span class="form-text text-muted text-error" mat-error *ngIf="
            form.get('language_project')?.touched &&
            form.get('language_project')?.errors?.required
          "
          >Language is required
            </span>
        </div>

        <div mat-form-field class="form-group w-50">
          <input
          formControlName="path_project" class="form-control" placeholder="Path* / Chemin*" />
          <span class="form-text text-muted">If the language or the geographic localization of the resources is
            set by a directory, please mention the path (/ if no directory). Ex: /fr/*</span>
            <span class="form-text text-muted">Si la langue et/ou la localisation géographique des ressources
              concernées passent pas un répertoire, indiquez le chemin (/* si
              aucun répertoire). Ex: /fr/*</span>
            <span class="form-text text-muted text-error" mat-error
            *ngIf="
              form.get('path_project')?.touched &&
              form.get('path_project')?.errors?.required
            "
            >Path is required
            </span>
        </div>
      </div>

      <div class="w-100 my-5 mx-1 pt-4">
        <mat-label style="margin-right: 20%; color: #B5B5C3 !important;">SSL* / TLS*</mat-label>
        <mat-radio-group
          class="w-50 px-3"
          aria-label="website"
          formControlName="protocol_project"
        >
          <mat-radio-button
            color="accent"
            class="mx-5"
            *ngFor="let protocol of protocols"
            [value]="protocol"
          >
            {{ protocol }}
          </mat-radio-button>
        </mat-radio-group>
          <span class="form-text text-muted txt-muted">Tell us if your website uses SSL/TLS certificate.</span>
            <span class="form-text text-muted txt-muted">Dites-nous si votre site utilise un certificat SSL/TLS.</span>

        <span class="form-text text-muted text-error" mat-error
        *ngIf="
        form.get('protocol_project')?.touched &&
        form.get('protocol_project')?.errors?.required
      "
      >Protocol is required
            </span>
      </div>

      <div class="w-100 row">
        <div mat-form-field class="form-group col-9">
          <input
          formControlName="image_project_Landscape"
            [readonly]="true" class="form-control" placeholder="Landscape format* / Format paysage*" />
          <span class="form-text text-muted">You can choose a landscape format image to illustrate your
            project.</span>
            <span class="form-text text-muted">Vous pouvez choisir une image au format paysage pour illustrer
              votre projet.</span>
        </div>

        <input
          type="file"
          accept="image/*"
          #landscape
          (change)="uploadLandscape($event)"
          style="display: none"
        />

        <button
          color="accent"
          class="upload-button col-3"
          mat-raised-button
          type="button"
          (click)="landscape.click()"
        >
          Upload Landscape Image
        </button>
      </div>
      <div class="w-100 row">

        <div mat-form-field class="form-group col-9">
          <input
          formControlName="image_project_Squared"
            [readonly]="true" class="form-control" placeholder="Squared* / Format carré*" />
          <span class="form-text text-muted">You can choose a square format image to illustrate your project.</span>
            <span class="form-text text-muted">Vous pouvez choisir une image au format carré pour illustrer votre
              projet.</span>
        </div>

        <input
          type="file"
          accept="image/*"
          #squared
          (change)="uploadSquared($event)"
          style="display: none"
        />
        <button
          color="accent"
          class="upload-button col-3"
          mat-raised-button
          type="button"
          (click)="squared.click()"
        >
          Upload Squared Image
        </button>
      </div>
    </form>
  </mat-card-content>
  <mat-card-actions align="end" class="my-3">
    <button mat-raised-button color="primary" (click)="onSubmit()">Add</button>
  </mat-card-actions>
</mat-card>
