<main class="w-100 h-25 p-0" fxLayout="column">
    <div fxLayout="row" class="pt-0 pb-0 px-0 w-100" fxLayoutAlign="space-between center" fxLayoutGap="5px" style="background: #f0f1f6 !important;max-height: 40px!important;">
        <div class="row p-0" style="
        height: 54px;width: 100%;
    ">
            <aside class="p-0" [ngStyle]="{ width: ws + 'px' }" style="border-right: 30px solid rgb(240, 241, 246); overflow: auto; border-radius:0; z-index: 10;">
                <div fxLayout="row" class="py-3 px-0" fxLayoutAlign="space-between center" fxLayoutGap="5px" style="background: #f0f1f6 !important;max-height: 40px;">
                    <div fxLayout="row" class="mr-5">
                        <div class="card-title align-items-start ftssp my-0 ml-0 mr-6 text-truncate" style="max-width: 350px;">
                            <img src="assets/images/gif/skeleton.gif" width="100%" height="25" class="m-0 rounded" *ngIf="isLooading == true; else filter_projectName" />
                            <ng-template #filter_projectName>
                                <p class="font-italic" style="margin: 0!important;
                                max-width: 50%;
                                width: 275px;
                                padding-left: 15px;
                                font-size: 18px;
                                font-family: 'Source Sans Pro'!important;
                                color: #979797;
                                margin-top: 1.5px!important;">
                                    {{ projectName }}.csv</p>
                            </ng-template>
                        </div>
                        <!-- <div class="card-title align-items-start ftssp m-0 border-left text-truncate" style="max-width: 350px">
                    <img src="assets/images/gif/skeleton.gif" width="50%" height="25" class="ml-5 rounded" *ngIf="isLooading == true; else filter_totalLine" />
                    <ng-template #filter_totalLine>
                        <span *ngIf="dataViews.length != 0" class="ftssp pl-20px mr-5 font-table-header">
              Total lines: {{ dataSourceFilter?.length }}
            </span>
                    </ng-template>
                </div> -->
                        <div *ngIf="link !=''" class="ftssp pl-20px mr-5 font-table-header" style="position: relative; cursor: pointer;font-size: 18px;
                        font-style: normal;
                        font-weight: 400;
                        line-height: 23px;
                        letter-spacing: 0px;
                        text-align: center;
                        color: #3B85FE;margin-right: 0!important;" let link="link" (mouseover)="tooltipcustIn()" (mouseleave)="tooltipcustOut()" (click)="Linkcopied()" ngxClipboard [cbContent]="value" matTooltip="Click
                        here to copy this link.">
                            Permalink
                            <!-- (click)= "copyLinks()" -->
                            <!-- <span class="link-custom" *ngIf="testLink" style="font-size: 14px!important; width: 200px!important; font-weight: 500!important;">Click
            here to copy this link.</span> -->
                            <span class="link-custom" *ngIf="testLinkcopied" style="font-size: 14px!important; width: 110px!important; font-weight: 500!important;">Link
            copied</span>

                        </div>
                    </div>
                </div>
            </aside>
            <aside class="p-0 aside-table" [ngStyle]="{ width: 'calc(100% - ' + ws + 'px)'}">
                <!-- <div class="card-title align-items-start ftssp m-0 text-truncate" style="max-width: 350px"> -->
                <div fxLayout="row" class="py-3 px-0" fxLayoutAlign="space-between center" fxLayoutGap="5px" style="background: #f0f1f6 !important;height: 48.19px;">
                    <div fxLayout="col">
                        <img src="assets/images/gif/skeleton.gif" width="0%" height="0" class="ml-5 rounded" *ngIf="isLooading == true; else filter_totalLine" />
                        <ng-template #filter_totalLine>
                            <span *ngIf="dataViews.length != 0" class="ftssp mr-5 font-table-header" style="font-family: 'Source Sans Pro'!important;">
                                Filtered lines : {{ dataSourceFilter?.length }} / {{ dataViews?.length }}
                            </span>
                        </ng-template>
                    </div>
                    <div fxLayout="col" style="width: 425px;">
                        <div style="margin-right: 25px;
                        margin-top: 9px!important;">
                            <svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M11.7813 0H1.21875C0.895517 0 0.585524 0.135459 0.356964 0.376577C0.128404 0.617695 0 0.944722 0 1.28571L0 10.7143C0 11.0553 0.128404 11.3823 0.356964 11.6234C0.585524 11.8645 0.895517 12 1.21875 12H11.7813C12.1045 12 12.4145 11.8645 12.643 11.6234C12.8716 11.3823 13 11.0553 13 10.7143V1.28571C13 0.944722 12.8716 0.617695 12.643 0.376577C12.4145 0.135459 12.1045 0 11.7813 0ZM5.6875 10.2857H1.625V3.42857H5.6875V10.2857ZM11.375 10.2857H7.3125V3.42857H11.375V10.2857Z"
                                    fill="#3B85FE" />
                            </svg>

                            <span style="font-size: 16px;
                            font-weight: 400;
                            font-family: 'Source Sans Pro'!important;
                            color: #3B85FE;
                            margin-left: 5px;
                            margin-top: 7px!important;">
                                Columns Management
                            </span>
                        </div>
                        <div style="margin-right: -34px;
                        margin-top: 7px!important;">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M24 21.646L17.7452 15.441C18.9216 13.836 19.6171 11.862 19.6171 9.73C19.6171 4.365 15.2171 0 9.80806 0C4.40002 0 0 4.365 0 9.73C0 15.096 4.40002 19.46 9.80806 19.46C11.8584 19.46 13.7625 18.833 15.3391 17.762L21.6271 24L24 21.646ZM2.8769 9.73C2.8769 5.938 5.98664 2.853 9.80906 2.853C13.6315 2.853 16.7412 5.938 16.7412 9.73C16.7412 13.522 13.6315 16.607 9.80906 16.607C5.98564 16.607 2.8769 13.522 2.8769 9.73Z"
                                    fill="#3A3950" />
                            </svg>
                        </div>
                        <div style="width: 250px;
                        margin-right: -30px;">
                            <input class="form-control" placeholder="Quick Search" style="
                            background-color: transparent!important;color: #959CB64D!important;
                            padding-left: 42px;
                        " />
                        </div>
                        <div style="margin-top: 7px!important;">
                            <svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 2.264L2.12175 0L9.003 7.4712L15.8783 0L18 2.264L9.003 12L0 2.264Z"
                                    fill="#A5A4BF" />
                            </svg>
                        </div>

                    </div>
                </div>

            </aside>
        </div>
    </div>

    <div class="row p-0 viewer-container" #container>
        <aside class="p-0" [ngStyle]="{ width: ws + 'px' }" style="border-right: 30px solid rgb(240, 241, 246); overflow: auto; border-radius:0; z-index: 10;">
            <div class="card br mt-4" *ngIf="isLooading == true; else filter_content">
                <img src="assets/images/gif/skeleton.gif" width="100%" height="50" />
                <img class="mt-5" src="assets/images/gif/skeleton.gif" width="100%" height="150" />
            </div>
            <ng-template #filter_content>
                <mat-tab-group [(selectedIndex)]="selectedIndex" mat-align-tabs="start" [color]="'#f0f1f6'" [backgroundColor]="'#f0f1f6'" class="mat-group scroll ps" *ngIf="dataViews.length !== 0" perfectScrollbar>
                    <mat-tab label="Facet/Filter" class="facet-filter">
                        <app-facet-filter-target style="position: relative;top: -19px" [idProject]="idProject" [items]="items" [test]="test" [dataViews]="dataViews" [dataSources]="dataSource.data" [datasourceFilter]="dataSourceFilter" (sendData)="update_Search_Replace($event)"
                            (send_data)="send_data($event)"></app-facet-filter-target>
                    </mat-tab>
                    <mat-tab label="Undo/Redo" class="undo-redo">
                        <app-undo-redo [dataNameHistory]="listNameHistory" [indexRow]="indexRowdata" (callOtherData)="getAllDataByListName($event)"></app-undo-redo>
                    </mat-tab>

                    <mat-tab label="Search/Replace" class="search-replace">
                        <div *ngIf="Columns_replace">
                            <ng-template #searchReplace>
                                <app-search-replace [nameColumn]="Columns_replace" [datasourceFilter]="dataSourceFilter" (sendData)="update_Search_Replace($event)" (removeFromItem)="removeAppSearch($event)">
                                </app-search-replace>
                            </ng-template>

                            <ng-container *ngTemplateOutlet="searchReplace">
                                This text is not displayed
                            </ng-container>
                        </div>
                    </mat-tab>
                </mat-tab-group>
            </ng-template>
        </aside>

        <aside class="p-0 aside-table" [ngStyle]="{ width: 'calc(100% - ' + ws + 'px)'}">
            <div class="section-loader" *ngIf="isloadingHistory" [ngStyle]="{ width: 'calc(100% - ' + 779 + 'px)' }">
                <span class="loadert loader-bars"><span></span></span>
            </div>
            <!-- <p style="color:#000!important;">Selected 0/180</p> -->
            <!-- <ng-template #filter_totalLine>
                <span *ngIf="dataViews.length != 0" class="ftssp pl-20px mr-5 font-table-header">
                Total lines: {{ dataSourceFilter?.length }}
              </span>
            </ng-template> -->
            <div class="p-0" style="background-color: #fff;">

                <div class="w-100 scroll ps" style="
              max-width: 100%;
              overflow: auto;
              min-height: calc(100vh - 420px);
              max-height: calc(100vh - 420px);
            " perfectScrollbar>
                    <app-pulsing-skeleton *ngIf="isLooading == true; else table_content">
                    </app-pulsing-skeleton>
                    <ng-template #table_content>
                        <table mat-table *ngIf="displayedColumns.length != 0" [dataSource]="dataSource" matSort (matSortChange)="sortData($event)" class="w-100 table-viewer">
                            <div *ngFor="
                    let column of displayedColumns;
                    let index = index;
                    let last = last
                  ">
                                <ng-container [matColumnDef]="column" *ngIf="column === 'all'">
                                    <th mat-header-cell *matHeaderCellDef [ngClass]="{
                        'active-column': active === column,
                        'active-none': icon === '' && active === column
                      }">
                                        <span fxLayout="row" fxLayoutAlign="space-around center" style="padding-left: 35px;
                                        padding-right: 9px;">
                                            <div style="
                                          width: 0px;
                                          margin-left: -30px;
                  ">
                        #
                      </div>
                      <div fxLayout="row" fxLayoutAlign="space-between center" style="width: 67px;">
                        <div class="dropdown-icon-bg pd-7" [inline]="true" aria-hidden="false"
                        [matMenuTriggerFor]="tableOptionMenu">
                          <span class="svg-icon dropdown-icon">
                            <svg width="8" height="5" viewBox="0 0 8 5" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path
                                d="M3.67524 4.6112L0.128299 1.13747C-0.0427664 0.969933 -0.0427664 0.698317 0.128299 0.5308L0.541993 0.125647C0.712766 -0.0416017 0.989541 -0.0419236 1.16072 0.124932L3.98497 2.87793L6.80921 0.124932C6.98038 -0.0419236 7.25716 -0.0416017 7.42793 0.125647L7.84163 0.5308C8.01269 0.698335 8.01269 0.969951 7.84163 1.13747L4.29471 4.6112C4.12364 4.77872 3.8463 4.77872 3.67524 4.6112Z"
                                fill="#979797" />
                            </svg>
                          </span>
                            </div>

                            <div class="dropdown-icon-bg pd-7" [inline]="true" aria-hidden="false" [matMenuTriggerFor]="tableOptionMenu1">
                                <span class="svg-icon dropdown-icon">
                              <svg width="8" height="5" viewBox="0 0 8 5" fill="none"
                                  xmlns="http://www.w3.org/2000/svg">
                                  <path
                                      d="M3.67524 4.6112L0.128299 1.13747C-0.0427664 0.969933 -0.0427664 0.698317 0.128299 0.5308L0.541993 0.125647C0.712766 -0.0416017 0.989541 -0.0419236 1.16072 0.124932L3.98497 2.87793L6.80921 0.124932C6.98038 -0.0419236 7.25716 -0.0416017 7.42793 0.125647L7.84163 0.5308C8.01269 0.698335 8.01269 0.969951 7.84163 1.13747L4.29471 4.6112C4.12364 4.77872 3.8463 4.77872 3.67524 4.6112Z"
                                      fill="#979797" />
                              </svg>
                          </span>
                            </div>
                </div>
                <!-- <div>
                        
                      </div> -->
                </span>
                </th>
                <mat-menu #tableOptionMenu="matMenu">
                    <div>
                        <form [formGroup]="formfilterStart">
                            <section class="example-section">
                                <mat-checkbox class="example-margin ftp" formControlName="second" (change)="onChangeEventFilterStartAndFlag()">
                                    Filter Flag
                                </mat-checkbox>
                            </section>
                        </form>
                    </div>
                </mat-menu>
                <mat-menu #tableOptionMenu1="matMenu">
                    <div>
                        <form [formGroup]="formfilterStart">
                            <section class="example-section">
                                <mat-checkbox class="example-margin ftp" formControlName="first" (change)="onChangeEventFilterStartAndFlag()">
                                    Filter Star
                                </mat-checkbox>
                            </section>
                        </form>
                    </div>
                </mat-menu>

                <mat-menu #commonTransforms="matMenu">
                    <app-edit-cell [dataSource]="dataSource.data" [columnName]="column" (toggleChanges)="editOneValue($event)">
                    </app-edit-cell>
                </mat-menu>
                <td mat-cell *matCellDef="
                        let indexRow = index;
                        let element;
                        let even = even;
                        let odd = odd
                      " [class.odd]="odd" [class.even]="even" #td class="th-content p-0">
                    <div fxLayout="row" fxLayoutAlign="space-between center flag-star-div1" style="padding-right: 32px; padding-left: 27px;">
                        <p class="text-center font-number m-0 ftp" style="padding-right: 30px;">
                            {{ element['index'] }}
                        </p>
                        <div fxLayout="row" fxLayoutAlign="space-between center flag-star-div2" style="width: 63px;">
                            <span class="svg-icon pointer" *ngIf="element['flag']" (click)="
                          updateStart(element, element['index'], 'Flag')">
                          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1.125 12.6363V1.38496C1.125 1.17054 1.34644 1.04049 1.67685 1.18812C3.44486 1.9825 4.92113 2.35156 6.32008 2.35156C8.86489 2.35156 10.2322 1.13891 12.6751 1.13891C13.8737 1.13891 15.2551 1.42362 16.8719 2.01061V12.9843C15.4624 12.5168 14.1373 12.2883 12.8473 12.2883C9.82096 12.2883 7.80338 13.4974 5.14609 13.4974C3.19178 13.4974 1.15312 12.7241 1.125 12.6363Z" fill="#32C5D2"/>
                            <path d="M0 1.17399V12.6467C0 13.1142 0.309315 13.5536 0.801406 13.7434C2.50967 14.3937 3.90861 14.6221 5.14938 14.6221C8.00703 14.6221 9.99648 13.413 12.8506 13.413C14.007 13.413 15.3216 13.6309 16.8752 14.1863V17.7153C16.8752 17.7899 16.9048 17.8614 16.9576 17.9141C17.0103 17.9669 17.0818 17.9965 17.1564 17.9965H17.7188C17.7934 17.9965 17.8649 17.9669 17.9176 17.9141C17.9704 17.8614 18 17.7899 18 17.7153V0.56239C18 0.413235 17.9407 0.270189 17.8353 0.16472C17.7298 0.0592517 17.5868 0 17.4376 0C17.2885 0 17.1454 0.0592517 17.0399 0.16472C16.9345 0.270189 16.8752 0.413235 16.8752 0.56239V0.829525C15.1476 0.242531 13.7891 0.0140598 12.6784 0.0140598C9.99648 0.0140598 8.64675 1.22671 6.32513 1.22671C5.22496 1.22671 3.91388 0.959578 2.13884 0.161687C1.90404 0.0557615 1.6495 0.000661559 1.39192 0C0.657293 0 0.00351494 0.456942 0 1.17399ZM1.13181 12.6362V1.38489C1.13181 1.17047 1.35325 1.04042 1.68366 1.18805C3.45167 1.98243 4.92794 2.35149 6.32689 2.35149C8.8717 2.35149 10.239 1.13884 12.6819 1.13884C13.8805 1.13884 15.2619 1.42355 16.8787 2.01054V12.9842C15.4692 12.5167 14.1441 12.2882 12.8541 12.2882C9.82777 12.2882 7.81019 13.4974 5.1529 13.4974C3.19859 13.4974 1.15993 12.7241 1.13181 12.6362Z" fill="#32C5D2"/>
                            </svg>                            
                      </span>
                            <span class="svg-icon pointer" *ngIf="!element['flag']" (click)="
                          updateStart(element, element['index'], 'Flag')">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M1.39191 0C1.63796 0 1.89455 0.0527344 2.13708 0.161719C3.91213 0.959766 5.2232 1.22695 6.32337 1.22695C8.64675 1.22695 9.99648 0.0140625 12.6784 0.0140625C13.7891 0.0140625 15.1459 0.242578 16.8752 0.829688V0.5625C16.8752 0.253125 17.1283 0 17.4376 0C17.7469 0 18 0.253125 18 0.5625V17.7188C18 17.8734 17.8735 18 17.7188 18H17.1564C17.0018 18 16.8752 17.8734 16.8752 17.7188V14.1891C15.3216 13.6336 14.007 13.4156 12.8506 13.4156C9.99648 13.4156 8.00703 14.625 5.14938 14.625C3.90861 14.625 2.50967 14.3965 0.801405 13.7461C0.309313 13.5562 0 13.1168 0 12.6492V1.17422C0.00351334 0.457031 0.657291 0 1.39191 0ZM5.1529 13.5C7.81019 13.5 9.82777 12.2906 12.8541 12.2906C14.1441 12.2906 15.4692 12.5191 16.8787 12.9867V2.01094C15.2619 1.42383 13.8805 1.13906 12.6819 1.13906C10.239 1.13906 8.8717 2.35195 6.32689 2.35195C4.92794 2.35195 3.45167 1.98281 1.68365 1.18828C1.35325 1.04062 1.13181 1.1707 1.13181 1.38516V12.6387C1.15993 12.7266 3.19859 13.5 5.1529 13.5Z"
                            fill="#979797" />
                        </svg>
                      </span>
                            <span class="svg-icon pointer" *ngIf="!element['star']" (click)="
                          updateStart(element, element['index'], 'Star')">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M17.0781 5.77051L12.1626 5.05388L9.96561 0.599304C9.57196 -0.194713 8.4314 -0.204807 8.03439 0.599304L5.83739 5.05388L0.921884 5.77051C0.0403898 5.89836 -0.312881 6.98509 0.326371 7.60752L3.88263 11.0729L3.04151 15.9682C2.8901 16.8531 3.82207 17.5159 4.60262 17.1021L9 14.7907L13.3974 17.1021C14.1779 17.5125 15.1099 16.8531 14.9585 15.9682L14.1174 11.0729L17.6736 7.60752C18.3129 6.98509 17.9596 5.89836 17.0781 5.77051ZM12.9634 10.6961L13.8987 16.1466L9 13.5761L4.10468 16.1499L5.04001 10.6995L1.07665 6.83369L6.55066 6.03967L9 1.07706L11.4493 6.03967L16.9234 6.83369L12.9634 10.6961Z"
                            fill="#979797" />
                        </svg>
                      </span>
                            <span class="svg-icon pointer" *ngIf="element['star']" (click)="
                          updateStart(element, element['index'], 'Star')">
                        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M8.03439 0.599364L5.83739 5.05438L0.921884 5.77109C0.0403898 5.89895 -0.312881 6.98579 0.326371 7.60828L3.88263 11.074L3.04151 15.9699C2.8901 16.8548 3.82207 17.5177 4.60262 17.1038L9 14.7922L13.3974 17.1038C14.1779 17.5143 15.1099 16.8548 14.9585 15.9699L14.1174 11.074L17.6736 7.60828C18.3129 6.98579 17.9596 5.89895 17.0781 5.77109L12.1626 5.05438L9.96561 0.599364C9.57196 -0.194733 8.4314 -0.204827 8.03439 0.599364Z"
                            fill="#32C5D2" />
                        </svg>
                      </span>
                        </div>

                    </div>
                </td>
                </ng-container>

                <ng-container [matColumnDef]="column" *ngIf="column !== 'all'">
                    <th mat-header-cell *matHeaderCellDef [ngClass]="{
                        'd-none': isColumnDisplay(column),
                        'active-column': active === column,
                        'active-none': icon === '' && active === column
                      }">
                        <span fxLayout fxLayoutGap="15px">
                      <div class="dropdown-icon-bg" [inline]="true" aria-hidden="false"
                        [matMenuTriggerFor]="tableOptionMenu">
                        <span class="svg-icon dropdown-icon">
                          <svg width="8" height="5" viewBox="0 0 8 5" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                              d="M3.67524 4.6112L0.128299 1.13747C-0.0427664 0.969933 -0.0427664 0.698317 0.128299 0.5308L0.541993 0.125647C0.712766 -0.0416017 0.989541 -0.0419236 1.16072 0.124932L3.98497 2.87793L6.80921 0.124932C6.98038 -0.0419236 7.25716 -0.0416017 7.42793 0.125647L7.84163 0.5308C8.01269 0.698335 8.01269 0.969951 7.84163 1.13747L4.29471 4.6112C4.12364 4.77872 3.8463 4.77872 3.67524 4.6112Z"
                              fill="#979797" />
                          </svg>
                        </span>
            </div>
            <div mat-sort-header id="{{ index }}">
                {{ column | removeUnderscore | capitalizeFirstPipe }}
                <div class="icon icon-position">
                    <div *ngIf="icon === 'asc' && active === column; else desc">
                        <!-- down active -->
                        <svg width="6" height="18" viewBox="0 0 6 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M3 18L5.88675 13H0.113249L3 18ZM2.5 0L2.5 13.5H3.5L3.5 0L2.5 0Z" fill="#3B85FE"
                                fill-opacity="0.3" />
                            </svg>
                        <!-- up inactive -->
                        <svg width="7" height="19" viewBox="0 0 7 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path
                                d="M3.5 0.0449219L0.613249 5.04492H6.38675L3.5 0.0449219ZM4 18.0449V4.54492H3V18.0449H4Z"
                                fill="#3B85FE" />
                            </svg>
                    </div>

                    <ng-template #desc>
                        <div *ngIf="icon === 'desc' && active === column; else none">
                            <!-- down active -->
                            <svg width="6" height="18" viewBox="0 0 6 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M3 18L5.88675 13H0.113249L3 18ZM2.5 0L2.5 13.5H3.5L3.5 0L2.5 0Z"
                                  fill="#3B85FE" />
                              </svg>
                            <!-- up inactive -->
                            <svg width="7" height="19" viewBox="0 0 7 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path
                                  d="M3.5 0.0449219L0.613249 5.04492H6.38675L3.5 0.0449219ZM4 18.0449V4.54492H3V18.0449H4Z"
                                  fill="#3B85FE" fill-opacity="0.3" />
                              </svg>
                        </div>
                    </ng-template>
                    <ng-template #none>
                        <svg width="6" height="18" viewBox="0 0 6 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M3 18L5.88675 13H0.113249L3 18ZM2.5 0L2.5 13.5H3.5L3.5 0L2.5 0Z"
                                fill="#979797" />
                            </svg>

                        <!-- up -->
                        <svg width="7" height="19" viewBox="0 0 7 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path
                                d="M3.5 0.0449219L0.613249 5.04492H6.38675L3.5 0.0449219ZM4 18.0449V4.54492H3V18.0449H4Z"
                                fill="#979797" />
                            </svg>
                    </ng-template>

                </div>
            </div>
            </span>
            </th>
            <mat-menu #tableOptionMenu="matMenu" style="box-shadow: 0px 0px 15px 1px rgb(113 106 202 / 10%) !important;">
                <button mat-menu-item [matMenuTriggerFor]="sousItem1">
                      Facet
                    </button>
                <button mat-menu-item (click)="inputFilter(column)">
                      Text filter
                    </button>
                <button mat-menu-item (click)="searchReplace(column)">
                      Search replace
                    </button>
                <mat-divider></mat-divider>
                <button mat-menu-item [matMenuTriggerFor]="editCells">
                      Edit cells
                    </button>
                <mat-divider></mat-divider>
            </mat-menu>
            <mat-menu #sousItem1="matMenu">
                <button mat-menu-item (click)="searchFacet(column)">
                      Text facet
                    </button>
                <button mat-menu-item (click)="numericFacter(column)">
                      Numeric facet
                    </button>
                <button mat-menu-item (click)="timeLineFacter(column)">
                      Timeline facet
                    </button>
            </mat-menu>
            <mat-menu #editCells="matMenu">
                <app-edit-cell [dataSource]="dataSource.data" [dataViews]="dataViews" [columnName]="column" (toggleChanges)="editOneValue($event)">
                </app-edit-cell>
            </mat-menu>

            <td mat-cell *matCellDef="
                        let element;
                        let indexRow = index;
                        let even = even;
                        let odd = odd
                      " [class.odd]="odd" [class.even]="even" [ngClass]="{
                        'd-none': isColumnDisplay(column),
                        'active-column-cell': active === column,
                        'active-none-cell': icon === '' && active === column
                      }" #td class="th-content text-truncate" style="position: relative">
                <ng-container *ngTemplateOutlet="
                          (element[column] | typeof) === 'string'
                            ? stringTemplate
                            : numberTemplate;
                          context: { value: element[column] }
                        ">
                </ng-container>

                <ng-template #stringTemplate let-currentValue="value">
                    <div class="row justify-content-between px-3 text-truncate" style="margin-right: -30px;
                    margin-left: -30px;">
                        <p class="text-left text-truncate mat-body-p ftp">
                            {{ currentValue }}
                            <button class="pencil-icon-bg only-show-on-hover" (click)="
                                action(element, column, indexRow, $event)">
                                  <span class="svg-icon pencil-icon">
                                    <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                      <path d="M6.19811 2.3034L8.69844 4.80383L3.26909 10.2334L1.03985 10.4795C0.741417 10.5125 0.489275 10.2602 0.522478 9.96173L0.770518 7.73083L6.19811 2.3034ZM10.2449 1.93113L9.07089 0.757085C8.70469 0.390868 8.11076 0.390868 7.74455 0.757085L6.64009 1.8616L9.14042 4.36203L10.2449 3.25752C10.6111 2.8911 10.6111 2.29734 10.2449 1.93113Z" fill="#979797"/>
                                      </svg>
                                  </span>
                                </button>
                        </p>
                        <ng-template #templeteURL>
                            <a #templeteURL [href]="
                                senitizer.bypassSecurityTrustResourceUrl(
                                  currentValue
                                )
                              " target="_blank" class="text-truncate mat-body-a
                              ftp">{{ currentValue }}</a>
                            <button class="pencil-icon-bg only-show-on-hover" (click)="
                              action(element, column, indexRow, $event)">
                                <span class="svg-icon pencil-icon">
                                  <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M6.19811 2.3034L8.69844 4.80383L3.26909 10.2334L1.03985 10.4795C0.741417 10.5125 0.489275 10.2602 0.522478 9.96173L0.770518 7.73083L6.19811 2.3034ZM10.2449 1.93113L9.07089 0.757085C8.70469 0.390868 8.11076 0.390868 7.74455 0.757085L6.64009 1.8616L9.14042 4.36203L10.2449 3.25752C10.6111 2.8911 10.6111 2.29734 10.2449 1.93113Z" fill="#979797"/>
                                    </svg>
                                </span>
                              </button>
                        </ng-template>
                    </div>
                </ng-template>

                <ng-template #numberTemplate let-currentValue="value">
                    <div class="justify-content-between px-3 text-truncate">
                        <p class="text-center mat-body-o ftp cg">
                            {{ currentValue }}
                            <button class="pencil-icon-bg only-show-on-hover" (click)="
                                action(element, column, indexRow, $event)">
                                  <span class="svg-icon pencil-icon">
                                    <svg width="11" height="11" viewBox="0 0 11 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                                      <path d="M6.19811 2.3034L8.69844 4.80383L3.26909 10.2334L1.03985 10.4795C0.741417 10.5125 0.489275 10.2602 0.522478 9.96173L0.770518 7.73083L6.19811 2.3034ZM10.2449 1.93113L9.07089 0.757085C8.70469 0.390868 8.11076 0.390868 7.74455 0.757085L6.64009 1.8616L9.14042 4.36203L10.2449 3.25752C10.6111 2.8911 10.6111 2.29734 10.2449 1.93113Z" fill="#979797"/>
                                      </svg>
                                  </span>
                            </button>
                        </p>
                    </div>
                </ng-template>
            </td>
            </ng-container>
    </div>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

    <tr class="mat-row" *matNoDataRow>
        <td class="text-center ftp" [colSpan]="displayedColumns.length">
            No data
        </td>
    </tr>
    </table>
    </ng-template>
    </div>
    <mat-paginator *ngIf="dataViews.length != 0" #paginator appStylePaginator appPagination [showFirstLastButtons]="true" [length]="this.dataSourceFilter.length" [pageSize]="10" [pageSizeOptions]="[10, 25, 50, 100, 250, 500, 1000, 2500, 5000]" (page)="pageEvent = getServerData($event)">
    </mat-paginator>
    <!-- <mat-paginator appPagination [length]="testPaginator.length" [pageSize]="testPaginator.pageSize" [pageIndex]='testPaginator.pageIndex' [hidePageSize]='true' (page)="showTestEmit($event)">
    </mat-paginator> -->
    </div>
    <div>
        <button type="button" class="btn btn-export dropdown-toggle" aria-expanded="false" (click)="downloadCSV()">
            Export to csv
        </button>
    </div>
    </aside>

    <div *ngIf="vueEdit" class="containerCustomized">
        <div class="sousdiv">
            <div class="testbutton" [style.top.px]="top" [style.left.px]="left">
                <app-edit [(tab_arraw)]="tab_arraw" [(vueedit)]="vueEdit" [(eObject)]="objectOne" [(selected)]="selected" [(nameCells)]="nameCells" (objectChange)="oneObjectfunc($event)" (toggleChange)="editOneValue($event)">
                </app-edit>
                <!-- <app-search-replace></app-search-replace> -->
            </div>
        </div>
    </div>
    </div>
</main>