<div class="d-flex flex-column flex-root h-100" id="kt_login_wrapper">
  <!--begin::Login-->
  <ng-container *ngIf="common.loader$ | async as _loader">
    <ngb-progressbar class="loading-bar" height="5px" [value]="_loader"></ngb-progressbar>
  </ng-container>

  <div
    class="login login-1 login-signin-on d-flex flex-column flex-lg-row flex-column-fluid bg-white"
    id="kt_login">

    <!--begin::Aside-->
    <div class="login-aside d-flex flex-column flex-row-auto"
      style="background-image: url('../../../assets/images/bg_sign.png');background-repeat: no-repeat; background-size: auto 100%;">
    </div>
    <!--begin::Aside-->

    <!--begin::Content-->
      <div
        class="login-content flex-row-fluid d-flex flex-column justify-content-center position-relative overflow-hidden p-7 mx-auto">
        <!--begin::Content body-->
        <div class="d-flex flex-column-fluid flex-center">

          <div class="login-form login-signin">
            <!--begin::Signin-->
            <div fxLayout="column" fxLayoutAlign="space-between center"
              class="login-form login-signin sous-host d-flex flex-column-auto flex-column">
              <!--begin::Form-->
              <form class="form" [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
                <!--begin::Title-->
                <div class="pb-13 pt-lg-0 pt-5" fxLayout="column" fxLayoutAlign="center center">
                  <div class="w-100" fxLayoutAlign="center center">
                    <img mat-card-image fxLayoutAlign="center center" src="/assets/images/logo.png"
                      alt="Logo">
                  </div>
                  <div class="w-100 mt-3" fxLayoutAlign="center center">
                    <mat-card-title class="py-2 signin-text">Please complete to create your account
                    </mat-card-title>
                  </div>
                </div>
                <!--end::Title-->
                <!--begin::Form group-->
                <table class="example-full-width" cellspacing="0">
                  <tr>
                    <td style="padding-right: 10px;">
                      <mat-form-field appearance="standard">
                        <mat-label>First name</mat-label>
                        <input matInput type="text" formControlName="firstname">
                        <mat-error
                          *ngIf="registrationForm.get('firstname')?.invalid && registrationForm.get('firstname')?.errors?.required">
                          First Name required</mat-error>
                      </mat-form-field>
                    </td>
                    <td>
                      <mat-form-field appearance="standard">
                        <mat-label>Last name</mat-label>
                        <input matInput type="text" formControlName="lastname">
                        <mat-error
                          *ngIf="registrationForm.get('lastname')?.touched && registrationForm.get('lastname')?.errors?.required">
                          Last name required</mat-error>
                      </mat-form-field>
                    </td>
                  </tr>
                </table>

                <mat-form-field appearance="standard" class="w-100">
                  <mat-label>Email</mat-label>
                  <input matInput type="email" formControlName="email">
                  <mat-error
                    *ngIf="registrationForm.get('email')?.invalid && registrationForm.get('email')?.errors?.required">
                    Addres e-mail required</mat-error>
                  <mat-error
                    *ngIf="registrationForm.get('email')?.invalid && registrationForm.get('email')?.errors?.email">
                    Addres e-mail ivalid</mat-error>
                </mat-form-field>

                <mat-form-field appearance="standard" class="w-100">
                  <mat-label>Password</mat-label>
                  <input matInput [type]="hide ? 'password' : 'text'" formControlName="password"
                    autocomplete="off">
                  <mat-icon matSuffix (click)="hide=! hide">{{hide ? 'visibility_off' :
                    'visibility'}}</mat-icon>
                  <mat-error
                    *ngIf="registrationForm.get('password')?.touched && registrationForm.get('password')?.errors?.required">
                    Password required</mat-error>
                  <mat-error
                    *ngIf="registrationForm.get('password')?.touched && registrationForm.get('password')?.errors?.invalidPassword">
                    Password should have minimum 8 characters, at least 1 uppercase letter, 1
                    lowercase letter and 1 number</mat-error>
                </mat-form-field>

                <mat-form-field appearance="standard" class="w-100">
                  <mat-label>Confirm Password</mat-label>
                  <input matInput [type]="hide ? 'password' : 'text'"
                    formControlName="confirm_password" autocomplete="off">
                  <mat-icon matSuffix (click)="hide =! hide">{{hide ? 'visibility_off' :
                    'visibility'}}</mat-icon>
                  <mat-error
                    *ngIf="registrationForm.get( 'confirm_password')?.touched && registrationForm.get( 'confirm_password')?.errors?.required ">
                    Confirm Password is required</mat-error>
                  <mat-error
                    *ngIf="registrationForm.get( 'confirm_password')?.touched && registrationForm.get('confirm_password')?.errors?.passwordMismatch">
                    Passwords does not match</mat-error>
                </mat-form-field>

                <!--end::Form group-->
                <div class="py-2">
                  <mat-checkbox #checkbox formControlName="acceptTerms" color="primary">I agree with
                    terms and conditions
                  </mat-checkbox>
                  <div [style.color]="'#f44336'"
                    *ngIf="submitted === true && registrationForm.get('acceptTerms')?.errors">Accept
                    Terms is requird
                  </div>

                  <!--begin::Action-->
                  <div class="pb-lg-0 pb-5 my-5 centre">
                    <div class="centre">
                      <button mat-raised-button type="submit" class="m-2 btn-signin"
                        color="primary">Sign up</button>
                    </div>

                    <div class="my-2 centre">
                      <a class="nav-link" [routerLink]="['/sign-in']">Already have
                        an account? Sign in</a>
                    </div>
                  </div>
                </div>
                <!--end::Action-->
              </form>
              <!--end::Form-->
            </div>
            <!--end::Signin-->
          </div>

        </div>
        <!--end::Content body-->


        <!--begin::Content footer-->
        <div class="d-flex justify-content-center py-lg-0">
          <p class="term">Terms of use. Privacy policy</p>
        </div>
        <!--end::Content footer-->

      </div>
      <!--end::Content-->
  </div>
  <!--end::Login-->
</div>
